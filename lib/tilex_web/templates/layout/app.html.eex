<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      <%= page_title(assigns) %> - Today I Learned
    </title>

    <meta name="csrf" content="<%= Plug.CSRFProtection.get_csrf_token() %>">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" content="TIL is an open-source project by Energized Work that exists to catalogue the sharing & accumulation of knowledge as it happens day-to-day.">

    <meta itemprop="name" content="Today I Learned">
    <meta itemprop="brand" content="Today I Learned">
    <meta itemprop="description" content="TIL is an open-source project by Energized Work that exists to catalogue the sharing & accumulation of knowledge as it happens day-to-day.">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@energizedwork">
    <meta name="twitter:creator" content="@energizedwork">
    <meta name="twitter:title" content="Today I Learned: a Energized Work Project">
    <meta name="twitter:description" content="TIL is an open-source project by Energized Work that exists to catalogue the sharing & accumulation of knowledge as it happens day-to-day. Posts have a 200-word limit, and posting is open to any Rocketeer as well as select friends of the team. We hope you enjoy learning along with us.">
    <meta name="twitter:image" content=<%= TilexWeb.Endpoint.static_url() <> "/assets/til_twittercard.png" %>>

    <link href="//fonts.googleapis.com/css?family=Lato|Oswald" rel="stylesheet">
    <link rel="alternate feed" type="application/rss+xml" title="Today I Learned" href="/rss">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">
    <%= if assigns[:canonical_url] do %>
      <link rel="canonical" href="<%= @canonical_url %>">
    <% end %>
  </head>

  <body>
    <nav class="primary-nav">
      <div class="logo">
        <a href="https://energizedwork.com" class="home">
          <svg class="img" width="188" height="100" viewBox="0 0 188 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>EW_Logo</title><defs><path id="a" d="M0 .171v89.557h88.141V.171H0z"></path></defs><g fill="none" fill-rule="evenodd"><g transform="translate(16 5)"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><path d="M56.4 35.01v19.945H31.647c-2.321 0-3.966.35-4.932 1.05-.966.699-1.45 1.881-1.45 3.543 0 1.881.494 3.117 1.483 3.705.988.592 3.006.89 6.058.89H63.74c-.276 7.652 1.57 13.829 5.539 18.532 3.968 4.702 10.256 7.053 18.863 7.053H29.842c-9.668 0-17.058-2.35-22.172-7.053-5.113-4.7-7.671-11.492-7.671-20.373V27.2c0-8.572 2.417-15.22 7.25-19.945C12.084 2.532 18.885.17 27.652.17h29.224V25.89H33.709c-4.512 0-6.77 1.488-6.77 4.46 0 1.751.54 2.966 1.614 3.642 1.073.68 2.986 1.017 5.736 1.017H56.4z" fill="#DE0070" mask="url(#b)"></path></g><path d="M171.192 5.17v62.988c0 7.862-2.34 14.27-7.017 19.224-4.675 4.956-10.722 7.433-18.138 7.433-8.932 0-15.759-4.122-20.476-12.367-2.91 4.444-6.026 7.615-9.354 9.516-3.33 1.9-7.44 2.851-12.326 2.851-7.753 0-13.694-2.477-17.822-7.433-4.131-4.954-6.193-12.088-6.193-21.403V5.17h25.66v56.901c0 2.82.22 4.677.663 5.577.44.896 1.337 1.345 2.686 1.345 2.526 0 3.791-2.157 3.791-6.473V5.17h25.66v56.901c0 2.735.233 4.574.697 5.51.462.941 1.367 1.412 2.716 1.412 2.528 0 3.793-2.307 3.793-6.922v-56.9h25.66z" fill="#DE0070"></path><path fill="#DE0070" d="M53.806 69.408h54.372v25.166H53.806z"></path></g>
          </svg>
          <span class="text">EnergizedWork.com</span>
        </a>
      </div>
      <div class="social">
        <a href="https://twitter.com/energizedwork" class="twitter">
          <span class="text">Follow EW on Twitter</span>
        </a>
      </div>
    </nav>
    <%= if developer = Guardian.Plug.current_resource(@conn) do %>
      <nav class="admin_panel">
        <ul>
          <li> <%= link(developer.username, to: developer_path(@conn, :show, developer)) %> </li>
          <li> <%= link("Sign Out", to: auth_path(@conn, :delete), method: :delete) %> </li>
          <li> <%= link("Create Post", to: post_path(@conn, :new)) %> </li>
          <li> <%= link("Profile", to: developer_path(@conn, :edit)) %> </li>
        </ul>
      </nav>
    <% end %>

    <header class="site_head">
      <div class="logo-container">
      		<svg class="logo" width="156" height="119" viewBox="0 0 156 119" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>EW_Logo_With_Text</title><defs><path id="a" d="M0 .171v89.557h88.141V.171H0z"></path><path id="c" d="M.395 89.814h91.326V.171H.395z"></path></defs><g fill="none" fill-rule="evenodd"><g><mask id="b" fill="#DE0070"><use xlink:href="#a"></use></mask><path d="M56.4 35.01v19.945H31.647c-2.321 0-3.966.35-4.932 1.05-.966.699-1.45 1.881-1.45 3.543 0 1.881.494 3.117 1.483 3.705.988.592 3.006.89 6.058.89H64.74c.36 7.03 2.524 12.898 6.493 17.6 3.968 4.703 9.605 7.364 16.91 7.985h-58.3c-9.668 0-17.058-2.35-22.172-7.053-5.113-4.7-7.671-11.492-7.671-20.373V27.2c0-8.572 2.417-15.22 7.25-19.945C12.084 2.532 18.885.17 27.652.17h29.224V25.89H33.709c-4.512 0-6.77 1.488-6.77 4.46 0 1.751.54 2.966 1.614 3.642 1.073.68 2.986 1.017 5.736 1.017H56.4z" fill="#DE0070" ></path></g><path d="M155.192.17v62.988c0 7.862-2.34 14.27-7.017 19.224-4.675 4.956-10.722 7.433-18.138 7.433-8.932 0-15.759-4.122-20.476-12.367-2.91 4.444-6.026 7.615-9.354 9.516-3.33 1.9-7.44 2.851-12.326 2.851-7.753 0-13.694-2.477-17.822-7.433-4.131-4.954-6.193-12.088-6.193-21.403V.17h25.66v56.901c0 2.82.22 4.677.663 5.577.44.896 1.337 1.345 2.686 1.345 2.526 0 3.791-2.157 3.791-6.473V.17h25.66v56.901c0 2.735.233 4.574.697 5.51.462.941 1.367 1.412 2.716 1.412 2.528 0 3.793-2.307 3.793-6.922V.171h25.66zM0 118.57V96.43h8.928v3.075h-4.6v6.027h3.256v3.149H4.327v6.814h4.6v3.075H0zm9.402 0V96.418h3.115l4.695 11.586V96.418h3.59v22.152h-2.995l-4.684-12.288v12.288H9.402zm12.873 0V96.43h8.928v3.075h-4.6v6.027h3.257v3.149h-3.258v6.814h4.6v3.075h-8.927zm13.73-12.927h1.236c.332 0 .618-.115.856-.345.237-.23.41-.52.517-.873.107-.352.182-.676.225-.972a5.737 5.737 0 0 0 .012-1.648 7.115 7.115 0 0 0-.19-.928 1.875 1.875 0 0 0-.452-.837 1.026 1.026 0 0 0-.766-.326h-1.439v5.929zm-4.328 12.927V96.43h4.708c1.07 0 2.01.105 2.823.314.812.21 1.524.537 2.134.984.61.447 1.074 1.05 1.39 1.808.318.759.476 1.667.476 2.724 0 .46-.016.87-.047 1.23-.032.361-.105.773-.22 1.236a5.005 5.005 0 0 1-.47 1.23 4.3 4.3 0 0 1-.856 1.052 4.903 4.903 0 0 1-1.32.861 596.705 596.705 0 0 0 3.353 10.7h-4.482l-2.448-10.196h-.714v10.197h-4.327zm11.994-6.925v-7.798c0-5.231 2.104-7.847 6.312-7.847.888 0 1.678.12 2.372.363.693.242 1.274.576 1.741 1.002a5.11 5.11 0 0 1 1.153 1.575c.301.623.52 1.3.654 2.029.135.73.202 1.533.202 2.41v1.304h-4.137v-1.55c0-.385-.01-.723-.03-1.014a6.583 6.583 0 0 0-.148-.972 3.051 3.051 0 0 0-.321-.88 1.673 1.673 0 0 0-1.486-.81c-1.324 0-1.985 1.09-1.985 3.27v9.557c0 2.173.661 3.26 1.985 3.26 1.316 0 1.973-1.128 1.973-3.383v-1.77h-2.449v-3.21h6.777v11.389h-2.972l-.547-1.55c-.365.59-.884 1.068-1.558 1.433a4.316 4.316 0 0 1-2.08.547c-.769 0-1.468-.146-2.098-.437a4.47 4.47 0 0 1-1.557-1.156 6.592 6.592 0 0 1-1.029-1.691 8.981 8.981 0 0 1-.594-1.986 12.024 12.024 0 0 1-.178-2.085zm13.919 6.925V96.43h4.327v22.14H57.59zm5.479 0v-2.805l5.647-16.247h-4.993v-3.075h9.225v2.816l-5.67 16.236h5.67v3.075h-9.88zm11.114 0V96.43h8.927v3.075h-4.6v6.027h3.257v3.149H78.51v6.814h4.6v3.075h-8.927zm9.402 0V96.43h4.47c1.426 0 2.6.134 3.524.4.923.267 1.649.705 2.176 1.316.527.611.891 1.343 1.093 2.196.202.852.303 1.939.303 3.26v7.256c0 .787-.023 1.474-.07 2.06-.048.586-.138 1.16-.268 1.722-.131.562-.31 1.037-.535 1.427-.226.39-.517.752-.874 1.088a3.956 3.956 0 0 1-1.29.8 8.52 8.52 0 0 1-1.771.455c-.678.106-1.456.16-2.336.16h-4.422zm4.493-3.137c.412 0 .737-.006.975-.018.238-.013.475-.043.713-.093.238-.049.412-.116.523-.202a1.28 1.28 0 0 0 .31-.376c.094-.164.156-.358.184-.584a7.09 7.09 0 0 0 .041-.842v-11.919c0-.73-.21-1.213-.63-1.45-.42-.239-1.125-.362-2.116-.37v15.854zm14.013 3.137l-2.96-22.14h3.685l1.332 14.661 1.83-14.66h3.175l1.795 14.574 1.39-14.575h3.698l-2.996 22.14h-3.697l-1.795-14.49-1.76 14.49h-3.697zm14.086-7.282v-7.44c0-5.232 2.084-7.848 6.253-7.848 4.177 0 6.265 2.616 6.265 7.847v7.33c0 .886-.064 1.704-.19 2.454a8.614 8.614 0 0 1-.648 2.134 5.766 5.766 0 0 1-1.165 1.716c-.472.471-1.068.843-1.79 1.113-.72.27-1.545.406-2.472.406-.92 0-1.74-.133-2.46-.4-.722-.266-1.316-.627-1.784-1.082a5.558 5.558 0 0 1-1.159-1.673 8.5 8.5 0 0 1-.654-2.11 14.21 14.21 0 0 1-.196-2.447zm8.19 1.009v-9.57c0-2.18-.645-3.27-1.937-3.27-.388 0-.717.1-.987.3-.27.201-.467.476-.594.825a5.371 5.371 0 0 0-.268 1.033c-.051.34-.077.711-.077 1.113v9.569c0 2.173.642 3.26 1.926 3.26 1.292 0 1.938-1.087 1.938-3.26zm9.854-6.654h1.237c.333 0 .618-.115.856-.345.237-.23.41-.52.517-.873.107-.352.182-.676.226-.972a5.737 5.737 0 0 0 .012-1.648 7.115 7.115 0 0 0-.19-.928 1.875 1.875 0 0 0-.452-.837 1.026 1.026 0 0 0-.767-.326h-1.439v5.929zm-4.327 12.927V96.43h4.708c1.07 0 2.01.105 2.823.314.813.21 1.524.537 2.134.984.61.447 1.074 1.05 1.39 1.808.318.759.476 1.667.476 2.724 0 .46-.015.87-.047 1.23-.032.361-.105.773-.22 1.236a5.005 5.005 0 0 1-.47 1.23 4.3 4.3 0 0 1-.856 1.052 4.903 4.903 0 0 1-1.32.861 596.706 596.706 0 0 0 3.353 10.7h-4.481l-2.45-10.196h-.713v10.197h-4.327zm12.267 0V96.43h4.327v8.401l3.353-8.4h4.838l-4.363 9.064L155 118.57h-4.494l-3.233-10.123-.785 2.091v8.032h-4.327z" fill="#DE0070"></path></g>
          </svg>
      </div>
      <div>
        <h1><a href="/">Today I Learned</a></h1>
        <h2>
          This is a day-to-day accumulation of knowledge, snippets we pick up that others may find useful.
          As our mum always used to say: "sharing is caring".
        </h2>
      </div>
    </header>

    <div id="flash">
      <%= if message = get_flash(@conn, :info) do %>
        <p class="alert alert-info" role="alert">
          <%= message %>
        </p>
      <% end %>
    </div>

    <main>
      <%= render @view_module, @view_template, assigns %>
    </main>

    <nav class="site_nav">
      <ul>
        <li class="site_nav__search">
          <%= link("search", to: "#", class: "site_nav__link") %>
          <div class="site_nav__toggle">
            <%= form_tag post_path(@conn, :index), method: :get do %>
              <input type="search" name="q" id="q">
              <%= submit "Search" %>
            <% end %>
          </div>
        </li>
        <li class="site_nav__about">
          <%= link("?", to: "#", class: "site_nav__link") %>
          <div class="site_nav__toggle">
            <div class="copy">
              Today I Learned is an open-source project by
              <a href="https://hashrocket.com">
                Hashrocket
              </a>
              that exists to catalogue the sharing & accumulation of knowledge
              as it happens day-to-day. Posts have a 200-word limit, and
              posting is open to any Rocketeer as well as selected friends of
              Hashrocket. We hope you enjoy learning along with us.
              <ul class="social">
                <li>
                  <%= link("/hashrockettil", to: "https://twitter.com/hashrockettil", class: "social_twitter") %>
                </li>
                <li>
                  <%= link("/hashrocket/tilex", to: "https://github.com/hashrocket/tilex", class: "social_github") %>
                </li>
              </ul>
            </div>
          </div>
        </li>
        <li class="site_nav__statistics">
          <%= link("Statistics", to: "/statistics", class: "site_nav__link") %>
        </li>
        <li class="site_nav__twitter">
            <%= link("Twitter", to: "https://twitter.com/energizedwork", class: "site_nav__link") %>
        </li>
        <li class="site_nav__surprise_me">
            <%= link("Surprise Me", to: "/random", class: "site_nav__link", rel: "nofollow") %>
        </li>
      </ul>
    </nav>
    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>

    <!-- syntax highlighting -->
    <%= if Mix.env != :test do %>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/elixir.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/clojure.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/applescript.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vim.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/haml.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/elm.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/erb.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/erlang.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
    <% end %>

    <%= if Application.get_env(:tilex, :ga_identifier) do %>
      <script type="text/javascript">
        (function(i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          (i[r] =
            i[r] ||
            function() {
              (i[r].q = i[r].q || []).push(arguments);
            }), (i[r].l = 1 * new Date());
          (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m);
        })(
          window,
          document,
          'script',
          'https://www.google-analytics.com/analytics.js',
          'ga'
        );

        ga('create', '<%= Application.get_env(:tilex, :ga_identifier) %>', 'auto');
        ga('send', 'pageview');
      </script>
    <% end %>
  </body>
</html>
